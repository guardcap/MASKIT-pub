<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MASKIT - ì—”í‹°í‹° ê´€ë¦¬</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
  <style>
    .entity-container {
      padding: 24px;
    }
    .entity-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }
    .entity-header h2 {
      margin: 0;
      font-size: 24px;
      font-weight: 600;
    }
    .entity-actions {
      display: flex;
      gap: 12px;
    }
    .search-box {
      margin-bottom: 20px;
      display: flex;
      gap: 12px;
    }
    .search-input {
      flex: 1;
      padding: 12px 16px;
      border: 1px solid var(--line);
      border-radius: 8px;
      font-size: 14px;
    }
    .entity-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    .entity-card {
      background: white;
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 20px;
      box-shadow: var(--shadow);
      transition: transform 0.2s;
    }
    .entity-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 32px rgba(16,24,40,.1);
    }
    .entity-type {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 12px;
    }
    .type-person {
      background: #dbeafe;
      color: #1e40af;
    }
    .type-organization {
      background: #dcfce7;
      color: #15803d;
    }
    .type-location {
      background: #fef3c7;
      color: #92400e;
    }
    .type-sensitive {
      background: #fee2e2;
      color: #991b1b;
    }
    .entity-name {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text);
    }
    .entity-description {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 16px;
      line-height: 1.5;
    }
    .entity-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid var(--line);
    }
    .entity-count {
      font-size: 13px;
      color: var(--muted);
    }
    .entity-actions-btn {
      display: flex;
      gap: 8px;
    }
    .btn-primary {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
    }
    .btn-primary:hover {
      opacity: 0.9;
    }
    .btn-secondary {
      background: white;
      color: var(--text);
      border: 1px solid var(--line);
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
    }
    .btn-secondary:hover {
      background: #f8f9fa;
    }
    .icon-btn {
      width: 32px;
      height: 32px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: #f8f9fa;
      color: var(--text);
    }
    .icon-btn:hover {
      background: var(--line);
    }
  </style>
</head>
<body>
  <div class="app">
    <aside class="custombar" id="custombar">
      <div class="sb-head">
        <div class="sb-title">ì—”í‹°í‹° í•„í„°</div>
      </div>

      <div class="group">
        <button class="group-toggle" aria-expanded="false">
          <span>ì—”í‹°í‹° ìœ í˜•</span>
          <svg class="caret" viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" fill="none" stroke-width="2"><polyline points="8 4 16 12 8 20" /></svg>
        </button>
        <ul class="items">
          <li class="item">
            <button class="checkbox off" aria-checked="false" title="ì„ íƒ" data-check></button>
            <span class="txt">ê°œì¸ ì •ë³´</span>
          </li>
          <li class="item">
            <button class="checkbox off" aria-checked="false" title="ì„ íƒ" data-check></button>
            <span class="txt">ì¡°ì§ ì •ë³´</span>
          </li>
          <li class="item">
            <button class="checkbox off" aria-checked="false" title="ì„ íƒ" data-check></button>
            <span class="txt">ìœ„ì¹˜ ì •ë³´</span>
          </li>
          <li class="item">
            <button class="checkbox off" aria-checked="false" title="ì„ íƒ" data-check></button>
            <span class="txt">ë¯¼ê° ì •ë³´</span>
          </li>
        </ul>
      </div>

      <div class="group">
        <button class="group-toggle" aria-expanded="false">
          <span>ë³´í˜¸ ìˆ˜ì¤€</span>
          <svg class="caret" viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" fill="none" stroke-width="2"><polyline points="8 4 16 12 8 20" /></svg>
        </button>
        <ul class="items">
          <li class="item">
            <button class="checkbox off" aria-checked="false" title="ì„ íƒ" data-check></button>
            <span class="txt">ë†’ìŒ</span>
          </li>
          <li class="item">
            <button class="checkbox off" aria-checked="false" title="ì„ íƒ" data-check></button>
            <span class="txt">ì¤‘ê°„</span>
          </li>
          <li class="item">
            <button class="checkbox off" aria-checked="false" title="ì„ íƒ" data-check></button>
            <span class="txt">ë‚®ìŒ</span>
          </li>
        </ul>
      </div>

      <div class="panel-footer">
        <button class="btn edit">í•„í„° ì ìš©</button>
      </div>
    </aside>

    <header class="top-bar">
      <div class="top-bar-title">ğŸ›¡ï¸ MASKIT - ì—”í‹°í‹° ê´€ë¦¬</div>
      <div class="top-bar-buttons">
        <span id="userInfo" style="color: white; font-size: 0.9em;"></span>
        <button class="top-bar-button" id="logoutBtn" style="background: rgba(255,255,255,0.2); margin-left: 1em;">
          <span>ë¡œê·¸ì•„ì›ƒ</span>
        </button>
      </div>
    </header>

    <section class="panel">
      <div class="entity-container">
        <div class="entity-header">
          <h2>ì—”í‹°í‹° ê´€ë¦¬</h2>
          <div class="entity-actions">
            <button class="btn-secondary">ì—”í‹°í‹° ê°€ì ¸ì˜¤ê¸°</button>
            <button class="btn-primary" id="createEntityBtn">ìƒˆ ì—”í‹°í‹° ìƒì„±</button>
          </div>
        </div>

        <div class="search-box">
          <input type="text" class="search-input" placeholder="ì—”í‹°í‹° ê²€ìƒ‰..." id="searchInput">
          <button class="btn-secondary">ê²€ìƒ‰</button>
        </div>

        <div class="entity-grid" id="entityGrid">
          <div class="entity-card">
            <span class="entity-type type-person">ê°œì¸ ì •ë³´</span>
            <div class="entity-name">ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸</div>
            <div class="entity-description">
              í•œêµ­ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ íŒ¨í„´ì„ ê°ì§€í•˜ê³  ìë™ìœ¼ë¡œ ë§ˆìŠ¤í‚¹í•©ë‹ˆë‹¤.
              í˜•ì‹: YYMMDD-NNNNNNN
            </div>
            <div class="entity-meta">
              <span class="entity-count">ê°ì§€ íšŸìˆ˜: 1,234íšŒ</span>
              <div class="entity-actions-btn">
                <button class="icon-btn" title="í¸ì§‘">âœï¸</button>
                <button class="icon-btn" title="ì‚­ì œ">ğŸ—‘ï¸</button>
              </div>
            </div>
          </div>

          <div class="entity-card">
            <span class="entity-type type-sensitive">ë¯¼ê° ì •ë³´</span>
            <div class="entity-name">ì‹ ìš©ì¹´ë“œ ë²ˆí˜¸</div>
            <div class="entity-description">
              ì‹ ìš©ì¹´ë“œ ë²ˆí˜¸ë¥¼ ê°ì§€í•˜ê³  ë§ˆìŠ¤í‚¹í•©ë‹ˆë‹¤.
              16ìë¦¬ ìˆ«ì íŒ¨í„´ ì§€ì›
            </div>
            <div class="entity-meta">
              <span class="entity-count">ê°ì§€ íšŸìˆ˜: 892íšŒ</span>
              <div class="entity-actions-btn">
                <button class="icon-btn" title="í¸ì§‘">âœï¸</button>
                <button class="icon-btn" title="ì‚­ì œ">ğŸ—‘ï¸</button>
              </div>
            </div>
          </div>

          <div class="entity-card">
            <span class="entity-type type-person">ê°œì¸ ì •ë³´</span>
            <div class="entity-name">ì´ë©”ì¼ ì£¼ì†Œ</div>
            <div class="entity-description">
              ì´ë©”ì¼ ì£¼ì†Œë¥¼ ê°ì§€í•˜ê³  ì„ íƒì ìœ¼ë¡œ ë§ˆìŠ¤í‚¹í•©ë‹ˆë‹¤.
              í˜•ì‹: user@domain.com
            </div>
            <div class="entity-meta">
              <span class="entity-count">ê°ì§€ íšŸìˆ˜: 3,456íšŒ</span>
              <div class="entity-actions-btn">
                <button class="icon-btn" title="í¸ì§‘">âœï¸</button>
                <button class="icon-btn" title="ì‚­ì œ">ğŸ—‘ï¸</button>
              </div>
            </div>
          </div>

          <div class="entity-card">
            <span class="entity-type type-person">ê°œì¸ ì •ë³´</span>
            <div class="entity-name">ì „í™”ë²ˆí˜¸</div>
            <div class="entity-description">
              í•œêµ­ ì „í™”ë²ˆí˜¸ íŒ¨í„´ì„ ê°ì§€í•©ë‹ˆë‹¤.
              í˜•ì‹: 010-XXXX-XXXX
            </div>
            <div class="entity-meta">
              <span class="entity-count">ê°ì§€ íšŸìˆ˜: 2,103íšŒ</span>
              <div class="entity-actions-btn">
                <button class="icon-btn" title="í¸ì§‘">âœï¸</button>
                <button class="icon-btn" title="ì‚­ì œ">ğŸ—‘ï¸</button>
              </div>
            </div>
          </div>

          <div class="entity-card">
            <span class="entity-type type-organization">ì¡°ì§ ì •ë³´</span>
            <div class="entity-name">ì‚¬ì—…ì ë“±ë¡ë²ˆí˜¸</div>
            <div class="entity-description">
              ì‚¬ì—…ì ë“±ë¡ë²ˆí˜¸ë¥¼ ê°ì§€í•˜ê³  ë§ˆìŠ¤í‚¹í•©ë‹ˆë‹¤.
              í˜•ì‹: XXX-XX-XXXXX
            </div>
            <div class="entity-meta">
              <span class="entity-count">ê°ì§€ íšŸìˆ˜: 567íšŒ</span>
              <div class="entity-actions-btn">
                <button class="icon-btn" title="í¸ì§‘">âœï¸</button>
                <button class="icon-btn" title="ì‚­ì œ">ğŸ—‘ï¸</button>
              </div>
            </div>
          </div>

          <div class="entity-card">
            <span class="entity-type type-location">ìœ„ì¹˜ ì •ë³´</span>
            <div class="entity-name">ì£¼ì†Œ</div>
            <div class="entity-description">
              í•œêµ­ ì£¼ì†Œ íŒ¨í„´ì„ ê°ì§€í•©ë‹ˆë‹¤.
              ë„ë¡œëª…ì£¼ì†Œ ë° ì§€ë²ˆì£¼ì†Œ ì§€ì›
            </div>
            <div class="entity-meta">
              <span class="entity-count">ê°ì§€ íšŸìˆ˜: 789íšŒ</span>
              <div class="entity-actions-btn">
                <button class="icon-btn" title="í¸ì§‘">âœï¸</button>
                <button class="icon-btn" title="ì‚­ì œ">ğŸ—‘ï¸</button>
              </div>
            </div>
          </div>

          <div class="entity-card">
            <span class="entity-type type-sensitive">ë¯¼ê° ì •ë³´</span>
            <div class="entity-name">ê³„ì¢Œë²ˆí˜¸</div>
            <div class="entity-description">
              ì€í–‰ ê³„ì¢Œë²ˆí˜¸ë¥¼ ê°ì§€í•˜ê³  ë§ˆìŠ¤í‚¹í•©ë‹ˆë‹¤.
              ëª¨ë“  ì€í–‰ í˜•ì‹ ì§€ì›
            </div>
            <div class="entity-meta">
              <span class="entity-count">ê°ì§€ íšŸìˆ˜: 456íšŒ</span>
              <div class="entity-actions-btn">
                <button class="icon-btn" title="í¸ì§‘">âœï¸</button>
                <button class="icon-btn" title="ì‚­ì œ">ğŸ—‘ï¸</button>
              </div>
            </div>
          </div>

          <div class="entity-card">
            <span class="entity-type type-person">ê°œì¸ ì •ë³´</span>
            <div class="entity-name">ì—¬ê¶Œë²ˆí˜¸</div>
            <div class="entity-description">
              ì—¬ê¶Œë²ˆí˜¸ë¥¼ ê°ì§€í•˜ê³  ë§ˆìŠ¤í‚¹í•©ë‹ˆë‹¤.
              í˜•ì‹: MXXXXXXXX
            </div>
            <div class="entity-meta">
              <span class="entity-count">ê°ì§€ íšŸìˆ˜: 234íšŒ</span>
              <div class="entity-actions-btn">
                <button class="icon-btn" title="í¸ì§‘">âœï¸</button>
                <button class="icon-btn" title="ì‚­ì œ">ğŸ—‘ï¸</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <aside class="sidebar" id="sidebar">
      <div class="sb-head">
        <div class="sb-title">ì—”í‹°í‹° í†µê³„</div>
      </div>
      <div style="padding: 20px;">
        <div style="margin-bottom: 24px;">
          <h3 style="font-size: 16px; margin-bottom: 12px;">ì „ì²´ í†µê³„</h3>
          <div style="display: flex; flex-direction: column; gap: 12px;">
            <div style="padding: 12px; background: #eff6ff; border-radius: 8px;">
              <div style="font-size: 13px; color: var(--muted); margin-bottom: 4px;">ì´ ì—”í‹°í‹°</div>
              <div style="font-size: 24px; font-weight: 600; color: #1e40af;">24ê°œ</div>
            </div>
            <div style="padding: 12px; background: #dcfce7; border-radius: 8px;">
              <div style="font-size: 13px; color: var(--muted); margin-bottom: 4px;">ì´ ê°ì§€ íšŸìˆ˜</div>
              <div style="font-size: 24px; font-weight: 600; color: #15803d;">9,731íšŒ</div>
            </div>
            <div style="padding: 12px; background: #fef3c7; border-radius: 8px;">
              <div style="font-size: 13px; color: var(--muted); margin-bottom: 4px;">ì´ë²ˆ ë‹¬ ê°ì§€</div>
              <div style="font-size: 24px; font-weight: 600; color: #92400e;">1,456íšŒ</div>
            </div>
          </div>
        </div>

        <div>
          <h3 style="font-size: 16px; margin-bottom: 12px;">ìœ í˜•ë³„ ë¶„í¬</h3>
          <div style="display: flex; flex-direction: column; gap: 8px; font-size: 14px;">
            <div style="display: flex; justify-content: space-between;">
              <span>ê°œì¸ ì •ë³´</span>
              <span style="font-weight: 600;">45%</span>
            </div>
            <div style="display: flex; justify-content: space-between;">
              <span>ë¯¼ê° ì •ë³´</span>
              <span style="font-weight: 600;">30%</span>
            </div>
            <div style="display: flex; justify-content: space-between;">
              <span>ì¡°ì§ ì •ë³´</span>
              <span style="font-weight: 600;">15%</span>
            </div>
            <div style="display: flex; justify-content: space-between;">
              <span>ìœ„ì¹˜ ì •ë³´</span>
              <span style="font-weight: 600;">10%</span>
            </div>
          </div>
        </div>
      </div>
    </aside>
  </div>

  <script src="../script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const token = localStorage.getItem('auth_token');
      const user = JSON.parse(localStorage.getItem('user') || 'null');

      if (!token || !user) {
        window.location.href = '../smtp/login.html';
        return;
      }

      document.getElementById('userInfo').textContent = `${user.nickname} (${user.email})`;

      document.getElementById('logoutBtn').addEventListener('click', function() {
        localStorage.removeItem('auth_token');
        localStorage.removeItem('user');
        window.location.href = '../smtp/login.html';
      });

      document.getElementById('createEntityBtn').addEventListener('click', function() {
        alert('ì—”í‹°í‹° ìƒì„± ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
      });

      // ê²€ìƒ‰ ê¸°ëŠ¥
      document.getElementById('searchInput').addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        const cards = document.querySelectorAll('.entity-card');

        cards.forEach(card => {
          const name = card.querySelector('.entity-name').textContent.toLowerCase();
          const description = card.querySelector('.entity-description').textContent.toLowerCase();

          if (name.includes(searchTerm) || description.includes(searchTerm)) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
      });
    });
  </script>
</body>
</html>
